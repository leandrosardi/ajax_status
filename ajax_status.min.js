/*
 * ## AJAX_STATUS.JS
 * ajax_status.js
 * 
 * Little JavaScript module to show the status of an AJAX request in the HTML page.
 * 
 * This library follows the best practices enumarated here:
 * https://www.w3.org/community/webed/wiki/JavaScript_best_practices
 * 
 */

ajaxStatus = {

	/*
	 * Returns the version of this commonsJs library.
	 *  
	 */
	version: function() {
		return '1.0.1';
	},

	/*
	 * Hides the widget.
	 * 
	 */
	hide: function(parent) {
		$(parent).find('.ajax_status_badge').css('visibility', 'hidden');
	},

	/*
	 * Shows and turns on the blue saving message.
	 * 
	 */
	switchToSaving: function(parent) {
		o = $(parent).find('.ajax_status_badge')
		o.css('visibility', 'visible');
		o.html("<span class='badge badge-blue'><i class='icon-refresh'> </i> saving...</span>");
	},

	/*
	 * Shows and turns on the green success message.
	 * 
	 */
	switchToSuccess: function(parent) {
		o = $(parent).find('.ajax_status_badge')
		o.css('visibility', 'visible');
		o.html("<span class='badge badge-green'><i class='icon-ok'> </i> done!</span>");
	},

	/*
	 * Shows and turns on the red error message.
	 * 
	 */
	switchToError: function(parent) {
		o = $(parent).find('.ajax_status_badge')
		o.css('visibility', 'visible');
		o.html("<span class='badge badge-red'><i class='icon-remove'> </i> error</span>");
	},
		
	/*
	 * Draw the HTML widget inside the container
	 * 
	 */
	draw: function(parent, h) {
		s = 
		"<div class='ajax_status_badge'> </div> "
		$(parent).html( s + $(parent).html() );
	},
};